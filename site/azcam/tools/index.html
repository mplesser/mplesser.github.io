
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Michael Lesser">
      
      
        <link rel="canonical" href="https://mplesser.github.io/azcam/tools/">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-7.3.0">
    
    
      
        <title>Tools - Documentation - Michael Lesser</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8b42a75e.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="indigo" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tools" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Documentation - Michael Lesser" class="md-header__button md-logo" aria-label="Documentation - Michael Lesser" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation - Michael Lesser
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tools
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Documentation - Michael Lesser" class="md-nav__button md-logo" aria-label="Documentation - Michael Lesser" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Documentation - Michael Lesser
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        Michael Lesser
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Azcam
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Azcam" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Azcam
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/" class="md-nav__link">
        Advanced
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../classes/" class="md-nav__link">
        Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../commands/" class="md-nav__link">
        Commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../testers/" class="md-nav__link">
        Testers
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tools
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exposure-tools" class="md-nav__link">
    Exposure Tools
  </a>
  
    <nav class="md-nav" aria-label="Exposure Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#astronomical-research-cameras-controllers" class="md-nav__link">
    Astronomical Research Cameras Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sta-archon-controllers" class="md-nav__link">
    STA Archon Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magellan-controllers" class="md-nav__link">
    Magellan Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ascom-exposure" class="md-nav__link">
    ASCOM Exposure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller-tools" class="md-nav__link">
    Controller Tools
  </a>
  
    <nav class="md-nav" aria-label="Controller Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#astronomical-research-cameras-controllers_1" class="md-nav__link">
    Astronomical Research Cameras Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sta-archon-controllers_1" class="md-nav__link">
    STA Archon Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magellan-controllers_1" class="md-nav__link">
    Magellan Controllers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tempcon-tool" class="md-nav__link">
    TempCon Tool
  </a>
  
    <nav class="md-nav" aria-label="TempCon Tool">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cryocon-testerature-controller" class="md-nav__link">
    CryoCon Testerature Controller
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instrument-tool" class="md-nav__link">
    Instrument Tool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telescope-tool" class="md-nav__link">
    Telescope Tool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-tool" class="md-nav__link">
    Display Tool
  </a>
  
    <nav class="md-nav" aria-label="Display Tool">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sao-ds9-image-display-tool" class="md-nav__link">
    SAO Ds9 Image Display Tool
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server-tool" class="md-nav__link">
    Server Tool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focus-tool" class="md-nav__link">
    Focus Tool
  </a>
  
    <nav class="md-nav" aria-label="Focus Tool">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#focus-parameters" class="md-nav__link">
    Focus Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sendimage-tool-remote-image-server" class="md-nav__link">
    Sendimage Tool - Remote Image Server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webserver-tool-fastapi" class="md-nav__link">
    Webserver Tool - FastAPI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#browser-based-tools" class="md-nav__link">
    Browser-based Tools`
  </a>
  
    <nav class="md-nav" aria-label="Browser-based Tools`">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-browser-tools" class="md-nav__link">
    Supported Browser Tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#console-tools" class="md-nav__link">
    Console Tools
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Code
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Code" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Code
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../code/" class="md-nav__link">
        Code Links
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exposure-tools" class="md-nav__link">
    Exposure Tools
  </a>
  
    <nav class="md-nav" aria-label="Exposure Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#astronomical-research-cameras-controllers" class="md-nav__link">
    Astronomical Research Cameras Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sta-archon-controllers" class="md-nav__link">
    STA Archon Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magellan-controllers" class="md-nav__link">
    Magellan Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ascom-exposure" class="md-nav__link">
    ASCOM Exposure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller-tools" class="md-nav__link">
    Controller Tools
  </a>
  
    <nav class="md-nav" aria-label="Controller Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#astronomical-research-cameras-controllers_1" class="md-nav__link">
    Astronomical Research Cameras Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sta-archon-controllers_1" class="md-nav__link">
    STA Archon Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magellan-controllers_1" class="md-nav__link">
    Magellan Controllers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tempcon-tool" class="md-nav__link">
    TempCon Tool
  </a>
  
    <nav class="md-nav" aria-label="TempCon Tool">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cryocon-testerature-controller" class="md-nav__link">
    CryoCon Testerature Controller
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instrument-tool" class="md-nav__link">
    Instrument Tool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telescope-tool" class="md-nav__link">
    Telescope Tool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-tool" class="md-nav__link">
    Display Tool
  </a>
  
    <nav class="md-nav" aria-label="Display Tool">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sao-ds9-image-display-tool" class="md-nav__link">
    SAO Ds9 Image Display Tool
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server-tool" class="md-nav__link">
    Server Tool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focus-tool" class="md-nav__link">
    Focus Tool
  </a>
  
    <nav class="md-nav" aria-label="Focus Tool">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#focus-parameters" class="md-nav__link">
    Focus Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sendimage-tool-remote-image-server" class="md-nav__link">
    Sendimage Tool - Remote Image Server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webserver-tool-fastapi" class="md-nav__link">
    Webserver Tool - FastAPI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#browser-based-tools" class="md-nav__link">
    Browser-based Tools`
  </a>
  
    <nav class="md-nav" aria-label="Browser-based Tools`">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-browser-tools" class="md-nav__link">
    Supported Browser Tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#console-tools" class="md-nav__link">
    Console Tools
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="tools">Tools</h1>
<p>AzCam's <em>tools</em> are used to define and control a system.  The supported systems include:</p>
<ul>
<li>Astronomical Research Cameras, Inc. gen1, gen2, and gen3 controllers. See <a href="https://www.astro-cam.com">this link</a>.</li>
<li>STA Archon controllers. See <a href="http://www.sta-inc.net/archon">this link</a>.</li>
<li>OCIW Magellan CCD controllers (ITL version). See <a href="http://instrumentation.obs.carnegiescience.edu/ccd/gcam.html">this link</a>.</li>
<li>ASCOM cameras. See <a href="https://ascom-standards.org">this link</a>. This code has been used for QHY and ZWO cameras.</li>
</ul>
<h2 id="exposure-tools">Exposure Tools</h2>
<p>These tools defines the exposure interface.  The default tool name is <em>exposure</em>.</p>
<p>The <em>exposure</em> tool often coordinates the actions of the hardware tools such as <em>controller</em>, 
<em>instrument</em>, etc. For example, when <em>exposure</em> is initialized the tools in the 
<em>exposure.tools_init</em> list are initialized.  Similarly when <em>exposure</em> is reset, the tools in the 
<em>exposure.tools_reset</em> list are reset.</p>
<p><a href="../../code/azcam/tools/exposure.html">Documentation for the base Exposure class</a></p>
<h3 id="astronomical-research-cameras-controllers">Astronomical Research Cameras Controllers</h3>
<p><code>python
import azcam.server
from azcam.tools.arc.exposure_arc import ExposureArc
exposure = ExposureArc()
exposure.filetype = azcam.db.filetypes["MEF"]
exposure.image.filetype = azcam.db.filetypes["MEF"]
exposure.set_remote_imageserver("localhost", 6543)
exposure.image.remote_imageserver_filename = "/data/image.fits"
exposure.image.server_type = "azcam"
exposure.set_remote_imageserver()</code></p>
<h3 id="sta-archon-controllers">STA Archon Controllers</h3>
<p><code>python
import azcam.server
from azcam.tools.archon.exposure_archon import ExposureArchon
exposure = ExposureArchon()
filetype = "MEF"
exposure.fileconverter.set_detector_config(detector_sta3800)
exposure.filetype = azcam.db.filetypes[filetype]
exposure.image.filetype = azcam.db.filetypes[filetype]
exposure.display_image = 1
exposure.image.remote_imageserver_flag = 0
exposure.add_extensions = 1</code></p>
<h3 id="magellan-controllers">Magellan Controllers</h3>
<p><code>python
import azcam.server
from azcam.tools.mag.exposure_mag import ExposureMag
exposure = ExposureMag()
filetype = "BIN"
exposure.filetype = exposure.filetypes[filetype]
exposure.image.filetype = exposure.filetypes[filetype]
exposure.display_image = 1
exposure.image.remote_imageserver_flag = 0
exposure.set_filename("/azcam/soguider/image.bin")
exposure.test_image = 0
exposure.root = "image"
exposure.display_image = 0
exposure.image.make_lockfile = 1</code></p>
<h3 id="ascom-exposure">ASCOM Exposure</h3>
<p><code>python
import azcam.server
from azcam.tools.ascom.exposure_ascom import ExposureASCOM
exposure = ExposureASCOM()
filetype = "FITS"
exposure.filetype = exposure.filetypes[filetype]
exposure.image.filetype = exposure.filetypes[filetype]
exposure.display_image = 1
exposure.image.remote_imageserver_flag = 0
exposure.set_filename("/data/zwo/asi1294/image.fits")
exposure.display_image = 1</code></p>
<h2 id="controller-tools">Controller Tools</h2>
<p>These tools defines the camera controller interface. The default tool name is <em>controller</em>. </p>
<p><a href="../../code/azcam/tools/controller.html">Documentation for the base Controller class</a></p>
<h3 id="astronomical-research-cameras-controllers_1">Astronomical Research Cameras Controllers</h3>
<p><code>python
import azcam.server
from azcam.tools.arc.controller_arc import ControllerArc
controller = ControllerArc()
controller.timing_board = "arc22"
controller.clock_boards = ["arc32"]
controller.video_boards = ["arc45", "arc45"]
controller.utility_board = None
controller.set_boards()
controller.pci_file = os.path.join(azcam.db.systemfolder, "dspcode", "dsppci3", "pci3.lod")
controller.video_gain = 2
controller.video_speed = 1</code></p>
<h4 id="camera-servers">Camera Servers</h4>
<p><em>Camera servers</em> are separate executable programs which manage direct interaction with 
controller hardware on some systems. Communication with a camera server takes place over a 
socket via communication protocols defined between <em>azcam</em> and a specific camera server program. These 
camera servers are necessary when specialized drivers for the camera hardware are required.  They are 
usually written in C/C++. </p>
<h4 id="dsp-code">DSP Code</h4>
<p>The DSP code which runs in the ARC controllers is assembled and linked with
Motorola software tools. These tools are typically installed in the folder <code>/azcam/motoroladsptools/</code> on a
Windows machine as required by the batch files which assemble and link the code.</p>
<p>While the AzCam application code for the ARC timing board is typically downloaded during
camera initialization, the boot code must be compatible for this to work properly. Therefore
AzCam-compatible DSP boot code may need to be burned into the timing board EEPROMs before use, depending on configuration. </p>
<p>The gen3 PCI fiber optic interface boards and the gen3 utility boards use the original ARC code and do not need to be changed. The gen1 and gen2 situations are more complex.</p>
<p>For ARC system, the <em>xxx.lod</em> files are downlowded to the boards.</p>
<h3 id="sta-archon-controllers_1">STA Archon Controllers</h3>
<p><code>python
import azcam.server
from azcam.tools.archon.controller_archon import ControllerArchon
controller = ControllerArchon()
controller.camserver.port = 4242
controller.camserver.host = "10.0.2.10"
controller.header.set_keyword("DEWAR", "ITL1", "Dewar name")
controller.timing_file = os.path.join(
    azcam.db.systemfolder, "archon_code", "ITL1_STA3800C_Master.acf"
)</code></p>
<h3 id="magellan-controllers_1">Magellan Controllers</h3>
<p><code>python
import azcam.server
from azcam.tools.mag.controller_mag import ControllerMag
controller = ControllerMag()
controller.camserver.set_server("some_machine", 2402)
controller.timing_file = os.path.join(azcam.db.datafolder, "dspcode/gcam_ccd57.s")</code></p>
<h4 id="camera-servers_1">Camera Servers</h4>
<p><em>Camera servers</em> are separate executable programs which manage direct interaction with controller hardware on some systems. Communication with a camera server takes place over a socket via communication protocols defined between <em>azcam</em> and a specific camera server program. These camera servers are necessary when specialized drivers for the camera hardware are required.  They are usually written in C/C++. </p>
<h4 id="dsp-code_1">DSP Code</h4>
<p>The DSP code which runs in Magellan controllers is assembled and linked with
Motorola software tools. These tools should be installed in the folder <code>/azcam/motoroladsptools/</code> on Windows machines, as required by the batch files which assemble and link the code.</p>
<p>For Magellan systems, there is only one DSP file which is downloaded during initialization. </p>
<p>Note that <em>xxx.s</em> files are loaded for the Magellan systems.</p>
<h4 id="ascom-controller">ASCOM Controller</h4>
<p><code>python
import azcam.server
from azcam.tools.ascom.controller_ascom import ControllerASCOM
controller = ControllerASCOM()</code></p>
<h2 id="tempcon-tool">TempCon Tool</h2>
<p>This tool defines the temperature controller interface. The default tool name is <em>tempcon</em>.</p>
<p><a href="../../code/azcam/tools/tempcon.html">Documentation for the TempCon class</a></p>
<h3 id="cryocon-testerature-controller">CryoCon Testerature Controller</h3>
<p>This tools supports Cryogenic Control Systems Inc. (cryo-con) temperature controllers. See http://www.cryocon.com/.</p>
<h4 id="example-code">Example Code</h4>
<p><code>python
import azcam.server
from azcam.tools.cryocon.tempcon_cryocon24 import TempConCryoCon24
tempcon = TempConCryoCon24()
tempcon.description = "cryoconqb"
tempcon.host = "10.0.0.44"
tempcon.control_temperature = -100.0
tempcon.init_commands = [
"input A:units C",
"input B:units C",
"input C:units C",
"input A:isenix 2",
"input B:isenix 2",
"input C:isenix 2",
"loop 1:type pid",
"loop 1:range mid",
"loop 1:maxpwr 100",
]</code></p>
<h2 id="instrument-tool">Instrument Tool</h2>
<p>This tool defines the instrument interface.  The default tool name is <em>instrument</em>.</p>
<p><a href="../../code/azcam/tools/instrument.html">Documentation for the Instrument class</a></p>
<h2 id="telescope-tool">Telescope Tool</h2>
<p>This tool defines the telescope interface. The default tool name is <em>telescope</em>.</p>
<p><a href="../../code/azcam/tools/telescope.html">Documentation for the Telescope class</a></p>
<h2 id="display-tool">Display Tool</h2>
<p>This tool defines the image display interface. The default tool name is <em>display</em>.</p>
<p><code>python
rois = display.get_rois(2, 'detector')  
display.display(test.fits')</code></p>
<h3 id="sao-ds9-image-display-tool">SAO Ds9 Image Display Tool</h3>
<p>This tool supports SAO's ds9 display tool running under Windows. See https://sites.google.com/cfa.harvard.edu/saoimageds9.</p>
<p>See https://github.com/mplesser/azcam-ds9-winsupport for support code which may be helpful when displaying images on Windows computers</p>
<p><code>python
from azcam.tools.ds9.ds9display import Ds9Display
display = Ds9Display()
display.display("test.fits")
rois = display.get_rois(0, "detector")
print(rois)</code>
<a href="../../code/azcam/tools/display.html">Documentation for the Display class</a></p>
<h2 id="server-tool">Server Tool</h2>
<p>The base Tools class described below is inherited by all server tools. </p>
<p><a href="../../code/azcam/tools/tools.html">Documentation for the base Tools class</a></p>
<h2 id="focus-tool">Focus Tool</h2>
<p>This tools controls focus observations used to determine optimal instrument or telescope focus position. This code is usually executed in the console window although a server-side version is available on some systems. <code>focus</code> is an instance of the <em>Focus</em> class.</p>
<p><code>python
focus.set_pars(1, 30, 10)  
focus.run()</code></p>
<h3 id="focus-parameters">Focus Parameters</h3>
<p>Parameters may be changed from the command line as:
<code>focus.number_exposures=7</code>
or
<code>focus.set_pars(1.0, 5, 25, 15)</code>.</p>
<dl>
  <dt><strong>focus.number_exposures = 7</strong></dt>
  <dd>Number of exposures in focus sequence</dd>

  <dt><strong>focus.focus_step = 30</strong></dt>
  <dd>Number of focus steps between each exposure in a frame</dd>

  <dt><strong>focus.detector_shift = 10</strong></dt>
  <dd>Number of rows to shift detector for each focus step</dd>

  <dt><strong>focus.focus_position</strong></dt>
  <dd>Current focus position</dd>

  <dt><strong>focus.exposure_time = 1.0</strong></dt>
  <dd>Exposure time (seconds)</dd>

  <dt><strong>focus.focus_component = "instrument"</strong></dt>
  <dd>Focus component for motion - "instrument" or "telescope"</dd>

  <dt><strong>focus.focus_type = "absolute"</strong></dt>
  <dd>Focus type, "absolute" or "step"</dd>

  <dt><strong>focus.set_pars_called = 1</strong></dt>
  <dd>Flag to not prompt for focus position</dd>

  <dt><strong>focus.move_delay = 3</strong></dt>
  <dd>Delay in seconds between focus moves</dd>
</dl>

<h2 id="sendimage-tool-remote-image-server">Sendimage Tool - Remote Image Server</h2>
<p>This tool supports sending an image to a remote host running an image server which receives the image.</p>
<p><code>python
from azcam.tools.sendimage import SendImage
sendimage = SendImage()
remote_imageserver_host = "10.0.0.1"
remote_imageserver_port = 6543
sendimage.set_remote_imageserver(remote_imageserver_host, remote_imageserver_port, "azcam")</code></p>
<h2 id="webserver-tool-fastapi">Webserver Tool - FastAPI</h2>
<p>This tool implements a fastapi-based web server.  See https://fastapi.tiangolo.com.</p>
<p><code>python
from azcam.tools.fastapi.fastapi_server import WebServer
webserver = WebServer()
webserver.index = f"index_mysystem.html"
webserver.start()</code></p>
<h2 id="browser-based-tools">Browser-based Tools`</h2>
<p>These tools implements various browser-based tools which connect to an azcam web server.</p>
<h3 id="usage">Usage</h3>
<p>Open a web browser to http://localhost:2403/XXX where XXX is a toolname, with the appropriate replacements for localhost and the web server port number.</p>
<h3 id="supported-browser-tools">Supported Browser Tools</h3>
<ul>
<li>status - display current exposure status</li>
<li>exptool - a simple exposure control tool</li>
</ul>
<h2 id="console-tools">Console Tools</h2>
<p>Console tools are commands which can be called from a console application to send the equivalent command to a server process.  Commands are typically accessed in a console process as <code>toolname.commandname(parameters)</code>, e.g. <code>instrument.get_wavelength()</code>.</p>
<p>A console tool may be obtained by <code>toolname = azcam.get_tools("toolname")</code> where <em>toolname</em> is like <em>exposure</em>, <em>instrument</em>, or <em>tempcon</em>.  A tool may also be accessed as <em>azcam.db.toolname</em>, like <code>azcam.db.controller</code>. </p>
<p><a href="../../code/azcam/tools/console_tools.html">Documentation for the ConsoleTools class</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../testers/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Testers" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Testers
            </div>
          </div>
        </a>
      
      
        
        <a href="../../code/" class="md-footer__link md-footer__link--next" aria-label="Next: Code Links" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Code Links
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": "navigation.sections", "search": "../../assets/javascripts/workers/search.f8263e09.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.4fc53ad4.min.js"></script>
      
    
  </body>
</html>